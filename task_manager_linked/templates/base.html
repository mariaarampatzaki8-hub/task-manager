<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Task Manager</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; margin:0; background:#f7f7f7; color:#222; }
    .nav { background:#1f2937; color:#fff; padding:12px 18px; display:flex; gap:14px; align-items:center; }
    .brand { font-weight:700; margin-right:10px; }
    .nav a { color:#e5e7eb; text-decoration:none; padding:6px 8px; border-radius:6px; }
    .nav a:hover { background:rgba(255,255,255,0.12); }
    .spacer { flex:1; }
    .container { max-width:1100px; margin:24px auto; padding:0 16px; }
    .flash { padding:10px 12px; border-radius:8px; margin:10px 0; font-size:14px; }
    .flash.success { background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; }
    .flash.info    { background:#eff6ff; color:#1e40af; border:1px solid #bfdbfe; }
    .flash.warning { background:#fffbeb; color:#92400e; border:1px solid #fde68a; }
    .flash.danger  { background:#fef2f2; color:#991b1b; border:1px solid #fecaca; }
    footer { color:#777; font-size:12px; text-align:center; padding:24px 0 40px; }
  </style>
</head>
<body>

  <nav class="nav">
    <span class="brand">Task Manager</span>

    <a href="{{ url_for('dashboard') }}">Αρχική</a>
    <a href="{{ url_for('catalog') }}">Κατάλογος</a>
    <a href="{{ url_for('progress_view') }}">Πρόοδος</a>
    <a href="{{ url_for('teams') }}">Ομάδες</a>
    <a href="{{ url_for('directory') }}">Πίνακας</a>
    <a href="{{ url_for('help_page') }}">Οδηγίες</a>
    <a href="{{ url_for('settings') }}">Ρυθμίσεις</a>

    <div class="spacer"></div>

    {# Αν ο χρήστης είναι συνδεδεμένος (υπάρχει session.uid) δείξε logout #}
    {% if session.get('uid') %}
      <a href="{{ url_for('admin') }}">Admin</a>
      <a href="{{ url_for('admin_teams') }}">Διαχείριση Ομάδων</a>
      <a href="{{ url_for('logout') }}">Αποσύνδεση</a>
    {% else %}
      <a href="{{ url_for('index') }}">Σύνδεση</a>
    {% endif %}
  </nav>

  <div class="container">

    {# Flash messages #}
    {% with msgs = get_flashed_messages(with_categories=true) %}
      {% if msgs %}
        {% for category, message in msgs %}
          <div class="flash {{ category }}">{{ category }}: {{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </div>

  <footer>
    status: /healthz → "ok"
  </footer>

</body>
</html>
