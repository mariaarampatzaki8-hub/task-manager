{% extends "base.html" %}
{% block content %}
<h1>Admin</h1>

<h2>Δημιουργία χρήστη</h2>
<form method="post" action="{{ url_for('admin_create_user') }}">
  <p><label>Username<br><input name="username" required></label></p>
  <p><label>Προσωρινός κωδικός<br><input name="password" placeholder="change-me"></label></p>
  <p><label>Όνομα<br><input name="name"></label></p>
  <p><label>Email<br><input type="email" name="email"></label></p>
  <p><label>Τηλέφωνο<br><input name="phone"></label></p>
  <p><label>ΑΔΤ<br><input name="id_card"></label></p>
  <p><label>Χρώμα (hex)<br><input name="color" value="#3273dc"></label></p>
  <p><label><input type="checkbox" name="is_admin"> Διαχειριστής</label></p>
  <p>
    <label>Ομάδα<br>
      <select name="team_id">
        <option value="">(Καμία)</option>
        {% for t in teams %}
          <option value="{{ t.id }}">{{ t.name }}</option>
        {% endfor %}
      </select>
    </label>
  </p>
  <p><button type="submit">Δημιουργία</button></p>
</form>

<hr>

<h2>Χρήστες</h2>
<table border="1" cellpadding="6">
  <tr><th>Username</th><th>Όνομα</th><th>Email</th><th>Τηλέφωνο</th><th>ΑΔΤ</th><th>Admin</th><th>Ομάδα</th></tr>
  {% for u in users %}
    <tr>
      <td>{{ u.username }}</td>
      <td>{{ u.name or '-' }}</td>
      <td>{{ u.email or '-' }}</td>
      <td>{{ u.phone or '-' }}</td>
      <td>{{ u.id_card or '-' }}</td>
      <td>{{ 'Ναι' if u.is_admin else 'Όχι' }}</td>
      <td>{% if u.team_id %}#{{ u.team_id }}{% else %}-{% endif %}</td>
    </tr>
  {% endfor %}
</table>
{% endblock %}
