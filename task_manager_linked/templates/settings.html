{% extends "base.html" %}
{% block title %}Ρυθμίσεις{% endblock %}

{% block content %}
<h1>Ρυθμίσεις</h1>

<div class="row" style="display:flex; gap:2rem; flex-wrap:wrap;">
  <!-- Προφίλ -->
  <section style="flex:1 1 360px; max-width:520px;">
    <h2>Στοιχεία προφίλ</h2>
    <form method="post" action="{{ url_for('settings') }}" class="box" style="padding:1rem; border:1px solid #ddd; border-radius:8px;">
      <div class="field" style="margin-bottom:0.75rem;">
        <label for="email"><strong>Email</strong></label><br>
        <input id="email" name="email" type="email" value="{{ user.email or '' }}" style="width:100%; padding:0.5rem;">
      </div>

      <div class="field" style="margin-bottom:0.75rem;">
        <label for="color"><strong>Χρώμα θέματος</strong></label><br>
        <input id="color" name="color" type="color" value="{{ user.color or '#3273dc' }}" style="width:60px; height:36px; padding:0; border:none;">
        <small style="margin-left:0.5rem;">Τρέχον: {{ user.color or '#3273dc' }}</small>
      </div>

      <button type="submit">Αποθήκευση</button>
    </form>
  </section>

  <!-- Αλλαγή κωδικού -->
  <section style="flex:1 1 360px; max-width:520px;">
    <h2>Αλλαγή κωδικού</h2>
    <form method="post" action="{{ url_for('change_password') }}" class="box" style="padding:1rem; border:1px solid #ddd; border-radius:8px;">
      <div class="field" style="margin-bottom:0.75rem;">
        <label for="current_password"><strong>Τωρινός κωδικός</strong></label><br>
        <input id="current_password" name="current_password" type="password" required style="width:100%; padding:0.5rem;">
      </div>

      <div class="field" style="margin-bottom:0.75rem;">
        <label for="new_password"><strong>Νέος κωδικός</strong></label><br>
        <input id="new_password" name="new_password" type="password" minlength="6" required style="width:100%; padding:0.5rem;">
      </div>

      <div class="field" style="margin-bottom:0.75rem;">
        <label for="confirm_password"><strong>Επιβεβαίωση νέου κωδικού</strong></label><br>
        <input id="confirm_password" name="confirm_password" type="password" minlength="6" required style="width:100%; padding:0.5rem;">
      </div>

      <button type="submit">Αλλαγή κωδικού</button>
    </form>
  </section>
</div>
{% endblock %}
